<!DOCTYPE html>
<html>
<head>
    <title>Connect to Strava</title>
</head>
<body>
    <h1>Welcome to the Strava Integration App</h1>
    <button id="connect-strava">Connect to Strava</button>

    <script>
        document.getElementById('connect-strava').addEventListener('click', () => {
            const authWindow = window.open(
                "{{ url_for('connect_to_strava') }}",
                "StravaAuth",
                "width=500,height=600"
            );

            const timer = setInterval(() => {
                if (authWindow.closed) {
                    clearInterval(timer);
                    alert("Authentication completed!");
                }
            }, 500);
        });
    </script>
</body>
</html>
